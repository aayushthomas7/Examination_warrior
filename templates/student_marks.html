{%load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'student-marks/style.css'%}">
    <title>Document</title>
    <style>
        .font__42 {
            font-size: 42px;
        }
        .font__40 {
            font-size: 42px;
        }
        .font__38 {
            font-size: 36px;
        }
        .font__36 {
            font-size: 36px;
        }
        .font__34 {
            font-size: 34px;
        }
        .font__30 {
            font-size: 30px;
        }
        .font__32{
            font-size: 32px;
        }
        .font__100 {
            font-size: 100px!important;
            float: right!important;
        }
    </style>
</head>
<body>
    <div class="container">
        {% load multifor %}
        {%for score in score_lst; quiz_name in quiz_lst%}
            <div class="card">
                <div class="quiz-name ">
                    <h1> {{quiz_name}} </h1>
                </div>
                <div class="content">
                    <h2>{{score}}</h2>
                </div>
            </div>
        {%endfor%}
        <!-- <div class="card">
            <div class="quiz-name" >
                <h1>Environmental-studies</h1>
            </div>
            <div class="content">
                <h2>850</h2>
            </div>
        </div>
        <div class="card">
            <div class="quiz-name">
                <h1>Environmen</h1>
            </div>
            <div class="content">
                <h2>8</h2>
            </div>
        </div>
		<div class="card">
            <div class="quiz-name">
                <h1 >Physics</h1>
            </div>
            <div class="content">
                <h2>85</h2>
            </div>
        </div>
		 -->

    </div>
    <!-- "{% static 'student-dashboard/style2.css'%}" -->
    <script type="text/javascript" src="{% static 'student-marks/vanilla-tilt.js'%}"></script>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <script>
        VanillaTilt.init(document.querySelectorAll(".card"), {
		max: 25,
		speed: 400
    	});

       
        
        // $(".card").hover(function(){
        //      $(".quiz-name").addClass("notshow")

        // });
        // $(".card").mouseleave(function(){
        //     $(".quiz-name").removeClass("notshow")
        // });
        const cards = document.querySelectorAll(".card")
        cards.forEach(card => {
            card.addEventListener('mouseover',function(){
                // console.log("On card")
                $(this).find(".quiz-name").addClass("notshow")
            })
            card.addEventListener('mouseleave',function(){
                // console.log("Out of card")
                $(this).find(".quiz-name").removeClass("notshow")
            })
        })          
        const scores = document.querySelectorAll('.content h2')
        scores.forEach(score => { 
            console.log(score.innerText.length)
            if(((score.innerText).length) >=3 ) {
                console.log("Reached")
                score.classList.add("font__100")
            }
        })
        const quiz_names = document.querySelectorAll('.quiz-name h1')
        quiz_names.forEach(quiz_name => {
            longest_word = (longest((quiz_name.innerText))).length
            if(longest_word >= 14) {
                quiz_name.classList.add("font__30")
            }
            if(longest_word >= 13) {
                quiz_name.classList.add("font__32")
            }
            if(longest_word >= 12) {
                quiz_name.classList.add("font__34")
            }
            if(longest_word >= 11) {
                quiz_name.classList.add("font__36")
            }
            if(longest_word >= 10) {
                quiz_name.classList.add("font__38")
            }
            if(longest_word >= 9) {
                quiz_name.classList.add("font__40")
            }
            if(longest_word >= 8) {
                quiz_name.classList.add("font__42")
            }
            if(longest_word >= 7) {
                quiz_name.classList.add("font__44")
            }
            // console.log("Word ",countWords(quiz_name.innerText))
        })
        function longest(str){
        // Split the string using regex
        str = String(str)
        str = str.match(/[a-zA-Z0\d]+/gi);
        // Creating a empty string to store largest word
        let largest = "";
            
        // Creating a for...loop to iterate over the array
        for(let i = 0; i < str.length; i++){
            // If the i'th item is greater than largest string
            // then overwrite the largest string with the i'th value
            if(str[i].length > largest.length){
            largest = str[i]
            }
        }
        return largest;
        }
 

        // function countWords(s){
        //     s = s.replace(/(^\s*)|(\s*$)/gi,"");//exclude  start and end white-space
        //     s = s.replace(/[ ]{2,}/gi," ");//2 or more space to 1
        //     s = s.replace(/\n /,"\n"); // exclude newline with a start spacing
        //     s = s.replace("-"," ")
        //     s = s.replace("'"," ")
        //     s = s.replace("\""," ")
        //     return s.split(' ').filter(function(str){return str!="";});
        //     //return s.split(' ').filter(String).length; - this can also be used
        // }
        // function findLongestWord(array) {
        // var longestWord = "";

        // array.forEach(function(word) {
        //     if(word.length > longestWord.length) {
        //     longestWord = word;
        //     }
        // });

        // return longestWord.length;
        // }
    </script>
</body>
</html>